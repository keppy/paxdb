State Machines

1. State variables: endcode state
2. Commands: transform state
